{"ast":null,"code":"// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\nimport { Log } from './Log.js';\nimport { Global } from './Global.js';\nexport class WebStorageStateStore {\n  constructor() {\n    let {\n      prefix = \"oidc.\",\n      store = Global.localStorage\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this._store = store;\n    this._prefix = prefix;\n  }\n\n  set(key, value) {\n    Log.debug(\"WebStorageStateStore.set\", key);\n    key = this._prefix + key;\n\n    this._store.setItem(key, value);\n\n    return Promise.resolve();\n  }\n\n  get(key) {\n    Log.debug(\"WebStorageStateStore.get\", key);\n    key = this._prefix + key;\n\n    let item = this._store.getItem(key);\n\n    return Promise.resolve(item);\n  }\n\n  remove(key) {\n    Log.debug(\"WebStorageStateStore.remove\", key);\n    key = this._prefix + key;\n\n    let item = this._store.getItem(key);\n\n    this._store.removeItem(key);\n\n    return Promise.resolve(item);\n  }\n\n  getAllKeys() {\n    Log.debug(\"WebStorageStateStore.getAllKeys\");\n    var keys = [];\n\n    for (let index = 0; index < this._store.length; index++) {\n      let key = this._store.key(index);\n\n      if (key.indexOf(this._prefix) === 0) {\n        keys.push(key.substr(this._prefix.length));\n      }\n    }\n\n    return Promise.resolve(keys);\n  }\n\n}","map":{"version":3,"names":["Log","Global","WebStorageStateStore","constructor","prefix","store","localStorage","_store","_prefix","set","key","value","debug","setItem","Promise","resolve","get","item","getItem","remove","removeItem","getAllKeys","keys","index","length","indexOf","push","substr"],"sources":["C:/Users/theoj/Desktop/WebbProject-Yr3-React18/ClientApp/node_modules/oidc-client/src/WebStorageStateStore.js"],"sourcesContent":["// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\r\n\r\nimport { Log } from './Log.js';\r\nimport { Global } from './Global.js';\r\n\r\nexport class WebStorageStateStore {\r\n    constructor({prefix = \"oidc.\", store = Global.localStorage} = {}) {\r\n        this._store = store;\r\n        this._prefix = prefix;\r\n    }\r\n\r\n    set(key, value) {\r\n        Log.debug(\"WebStorageStateStore.set\", key);\r\n\r\n        key = this._prefix + key;\r\n\r\n        this._store.setItem(key, value);\r\n\r\n        return Promise.resolve();\r\n    }\r\n\r\n    get(key) {\r\n        Log.debug(\"WebStorageStateStore.get\", key);\r\n\r\n        key = this._prefix + key;\r\n\r\n        let item = this._store.getItem(key);\r\n\r\n        return Promise.resolve(item);\r\n    }\r\n\r\n    remove(key) {\r\n        Log.debug(\"WebStorageStateStore.remove\", key);\r\n\r\n        key = this._prefix + key;\r\n\r\n        let item = this._store.getItem(key);\r\n        this._store.removeItem(key);\r\n\r\n        return Promise.resolve(item);\r\n    }\r\n\r\n    getAllKeys() {\r\n        Log.debug(\"WebStorageStateStore.getAllKeys\");\r\n\r\n        var keys = [];\r\n\r\n        for (let index = 0; index < this._store.length; index++) {\r\n            let key = this._store.key(index);\r\n\r\n            if (key.indexOf(this._prefix) === 0) {\r\n                keys.push(key.substr(this._prefix.length));\r\n            }\r\n        }\r\n\r\n        return Promise.resolve(keys);\r\n    }\r\n}\r\n"],"mappings":"AAAA;AACA;AAEA,SAASA,GAAT,QAAoB,UAApB;AACA,SAASC,MAAT,QAAuB,aAAvB;AAEA,OAAO,MAAMC,oBAAN,CAA2B;EAC9BC,WAAW,GAAuD;IAAA,IAAtD;MAACC,MAAM,GAAG,OAAV;MAAmBC,KAAK,GAAGJ,MAAM,CAACK;IAAlC,CAAsD,uEAAJ,EAAI;IAC9D,KAAKC,MAAL,GAAcF,KAAd;IACA,KAAKG,OAAL,GAAeJ,MAAf;EACH;;EAEDK,GAAG,CAACC,GAAD,EAAMC,KAAN,EAAa;IACZX,GAAG,CAACY,KAAJ,CAAU,0BAAV,EAAsCF,GAAtC;IAEAA,GAAG,GAAG,KAAKF,OAAL,GAAeE,GAArB;;IAEA,KAAKH,MAAL,CAAYM,OAAZ,CAAoBH,GAApB,EAAyBC,KAAzB;;IAEA,OAAOG,OAAO,CAACC,OAAR,EAAP;EACH;;EAEDC,GAAG,CAACN,GAAD,EAAM;IACLV,GAAG,CAACY,KAAJ,CAAU,0BAAV,EAAsCF,GAAtC;IAEAA,GAAG,GAAG,KAAKF,OAAL,GAAeE,GAArB;;IAEA,IAAIO,IAAI,GAAG,KAAKV,MAAL,CAAYW,OAAZ,CAAoBR,GAApB,CAAX;;IAEA,OAAOI,OAAO,CAACC,OAAR,CAAgBE,IAAhB,CAAP;EACH;;EAEDE,MAAM,CAACT,GAAD,EAAM;IACRV,GAAG,CAACY,KAAJ,CAAU,6BAAV,EAAyCF,GAAzC;IAEAA,GAAG,GAAG,KAAKF,OAAL,GAAeE,GAArB;;IAEA,IAAIO,IAAI,GAAG,KAAKV,MAAL,CAAYW,OAAZ,CAAoBR,GAApB,CAAX;;IACA,KAAKH,MAAL,CAAYa,UAAZ,CAAuBV,GAAvB;;IAEA,OAAOI,OAAO,CAACC,OAAR,CAAgBE,IAAhB,CAAP;EACH;;EAEDI,UAAU,GAAG;IACTrB,GAAG,CAACY,KAAJ,CAAU,iCAAV;IAEA,IAAIU,IAAI,GAAG,EAAX;;IAEA,KAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKhB,MAAL,CAAYiB,MAAxC,EAAgDD,KAAK,EAArD,EAAyD;MACrD,IAAIb,GAAG,GAAG,KAAKH,MAAL,CAAYG,GAAZ,CAAgBa,KAAhB,CAAV;;MAEA,IAAIb,GAAG,CAACe,OAAJ,CAAY,KAAKjB,OAAjB,MAA8B,CAAlC,EAAqC;QACjCc,IAAI,CAACI,IAAL,CAAUhB,GAAG,CAACiB,MAAJ,CAAW,KAAKnB,OAAL,CAAagB,MAAxB,CAAV;MACH;IACJ;;IAED,OAAOV,OAAO,CAACC,OAAR,CAAgBO,IAAhB,CAAP;EACH;;AAnD6B"},"metadata":{},"sourceType":"module"}