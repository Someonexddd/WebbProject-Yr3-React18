{"ast":null,"code":"// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\nimport { Log } from './Log.js';\nimport { State } from './State.js';\nimport { JoseUtil } from './JoseUtil.js';\nimport random from './random.js';\nexport class SigninState extends State {\n  constructor() {\n    let {\n      nonce,\n      authority,\n      client_id,\n      redirect_uri,\n      code_verifier,\n      response_mode,\n      client_secret,\n      scope,\n      extraTokenParams,\n      skipUserInfo\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super(arguments[0]);\n\n    if (nonce === true) {\n      this._nonce = random();\n    } else if (nonce) {\n      this._nonce = nonce;\n    }\n\n    if (code_verifier === true) {\n      // random() produces 32 length\n      this._code_verifier = random() + random() + random();\n    } else if (code_verifier) {\n      this._code_verifier = code_verifier;\n    }\n\n    if (this.code_verifier) {\n      let hash = JoseUtil.hashString(this.code_verifier, \"SHA256\");\n      this._code_challenge = JoseUtil.hexToBase64Url(hash);\n    }\n\n    this._redirect_uri = redirect_uri;\n    this._authority = authority;\n    this._client_id = client_id;\n    this._response_mode = response_mode;\n    this._client_secret = client_secret;\n    this._scope = scope;\n    this._extraTokenParams = extraTokenParams;\n    this._skipUserInfo = skipUserInfo;\n  }\n\n  get nonce() {\n    return this._nonce;\n  }\n\n  get authority() {\n    return this._authority;\n  }\n\n  get client_id() {\n    return this._client_id;\n  }\n\n  get redirect_uri() {\n    return this._redirect_uri;\n  }\n\n  get code_verifier() {\n    return this._code_verifier;\n  }\n\n  get code_challenge() {\n    return this._code_challenge;\n  }\n\n  get response_mode() {\n    return this._response_mode;\n  }\n\n  get client_secret() {\n    return this._client_secret;\n  }\n\n  get scope() {\n    return this._scope;\n  }\n\n  get extraTokenParams() {\n    return this._extraTokenParams;\n  }\n\n  get skipUserInfo() {\n    return this._skipUserInfo;\n  }\n\n  toStorageString() {\n    Log.debug(\"SigninState.toStorageString\");\n    return JSON.stringify({\n      id: this.id,\n      data: this.data,\n      created: this.created,\n      request_type: this.request_type,\n      nonce: this.nonce,\n      code_verifier: this.code_verifier,\n      redirect_uri: this.redirect_uri,\n      authority: this.authority,\n      client_id: this.client_id,\n      response_mode: this.response_mode,\n      client_secret: this.client_secret,\n      scope: this.scope,\n      extraTokenParams: this.extraTokenParams,\n      skipUserInfo: this.skipUserInfo\n    });\n  }\n\n  static fromStorageString(storageString) {\n    Log.debug(\"SigninState.fromStorageString\");\n    var data = JSON.parse(storageString);\n    return new SigninState(data);\n  }\n\n}","map":{"version":3,"names":["Log","State","JoseUtil","random","SigninState","constructor","nonce","authority","client_id","redirect_uri","code_verifier","response_mode","client_secret","scope","extraTokenParams","skipUserInfo","arguments","_nonce","_code_verifier","hash","hashString","_code_challenge","hexToBase64Url","_redirect_uri","_authority","_client_id","_response_mode","_client_secret","_scope","_extraTokenParams","_skipUserInfo","code_challenge","toStorageString","debug","JSON","stringify","id","data","created","request_type","fromStorageString","storageString","parse"],"sources":["C:/Users/theoj/Desktop/WebbProject-Yr3-React18/ClientApp/node_modules/oidc-client/src/SigninState.js"],"sourcesContent":["// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\r\n\r\nimport { Log } from './Log.js';\r\nimport { State } from './State.js';\r\nimport { JoseUtil } from './JoseUtil.js';\r\nimport random from './random.js';\r\n\r\nexport class SigninState extends State {\r\n    constructor({nonce, authority, client_id, redirect_uri, code_verifier, response_mode, client_secret, scope, extraTokenParams, skipUserInfo} = {}) {\r\n        super(arguments[0]);\r\n\r\n        if (nonce === true) {\r\n            this._nonce = random();\r\n        }\r\n        else if (nonce) {\r\n            this._nonce = nonce;\r\n        }\r\n\r\n        if (code_verifier === true) {\r\n            // random() produces 32 length\r\n            this._code_verifier = random() + random() + random();\r\n        }\r\n        else if (code_verifier) {\r\n            this._code_verifier = code_verifier;\r\n        }\r\n        \r\n        if (this.code_verifier) {\r\n            let hash = JoseUtil.hashString(this.code_verifier, \"SHA256\");\r\n            this._code_challenge = JoseUtil.hexToBase64Url(hash);\r\n        }\r\n\r\n        this._redirect_uri = redirect_uri;\r\n        this._authority = authority;\r\n        this._client_id = client_id;\r\n        this._response_mode = response_mode;\r\n        this._client_secret = client_secret;\r\n        this._scope = scope;\r\n        this._extraTokenParams = extraTokenParams;\r\n        this._skipUserInfo = skipUserInfo;\r\n    }\r\n\r\n    get nonce() {\r\n        return this._nonce;\r\n    }\r\n    get authority() {\r\n        return this._authority;\r\n    }\r\n    get client_id() {\r\n        return this._client_id;\r\n    }\r\n    get redirect_uri() {\r\n        return this._redirect_uri;\r\n    }\r\n    get code_verifier() {\r\n        return this._code_verifier;\r\n    }\r\n    get code_challenge() {\r\n        return this._code_challenge;\r\n    }\r\n    get response_mode() {\r\n        return this._response_mode;\r\n    }\r\n    get client_secret() {\r\n        return this._client_secret;\r\n    }\r\n    get scope() {\r\n        return this._scope;\r\n    }\r\n    get extraTokenParams() {\r\n        return this._extraTokenParams;\r\n    }\r\n    get skipUserInfo() {\r\n        return this._skipUserInfo;\r\n    }\r\n    \r\n    toStorageString() {\r\n        Log.debug(\"SigninState.toStorageString\");\r\n        return JSON.stringify({\r\n            id: this.id,\r\n            data: this.data,\r\n            created: this.created,\r\n            request_type: this.request_type,\r\n            nonce: this.nonce,\r\n            code_verifier: this.code_verifier,\r\n            redirect_uri: this.redirect_uri,\r\n            authority: this.authority,\r\n            client_id: this.client_id,\r\n            response_mode: this.response_mode,\r\n            client_secret: this.client_secret,\r\n            scope: this.scope,\r\n            extraTokenParams : this.extraTokenParams,\r\n            skipUserInfo: this.skipUserInfo\r\n        });\r\n    }\r\n\r\n    static fromStorageString(storageString) {\r\n        Log.debug(\"SigninState.fromStorageString\");\r\n        var data = JSON.parse(storageString);\r\n        return new SigninState(data);\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}