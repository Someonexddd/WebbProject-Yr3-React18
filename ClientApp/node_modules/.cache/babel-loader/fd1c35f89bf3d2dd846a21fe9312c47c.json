{"ast":null,"code":"// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\nimport { Log } from './Log.js';\nimport { UrlUtility } from './UrlUtility.js';\nimport { SigninState } from './SigninState.js';\nexport class SigninRequest {\n  constructor(_ref) {\n    let {\n      // mandatory\n      url,\n      client_id,\n      redirect_uri,\n      response_type,\n      scope,\n      authority,\n      // optional\n      data,\n      prompt,\n      display,\n      max_age,\n      ui_locales,\n      id_token_hint,\n      login_hint,\n      acr_values,\n      resource,\n      response_mode,\n      request,\n      request_uri,\n      extraQueryParams,\n      request_type,\n      client_secret,\n      extraTokenParams,\n      skipUserInfo\n    } = _ref;\n\n    if (!url) {\n      Log.error(\"SigninRequest.ctor: No url passed\");\n      throw new Error(\"url\");\n    }\n\n    if (!client_id) {\n      Log.error(\"SigninRequest.ctor: No client_id passed\");\n      throw new Error(\"client_id\");\n    }\n\n    if (!redirect_uri) {\n      Log.error(\"SigninRequest.ctor: No redirect_uri passed\");\n      throw new Error(\"redirect_uri\");\n    }\n\n    if (!response_type) {\n      Log.error(\"SigninRequest.ctor: No response_type passed\");\n      throw new Error(\"response_type\");\n    }\n\n    if (!scope) {\n      Log.error(\"SigninRequest.ctor: No scope passed\");\n      throw new Error(\"scope\");\n    }\n\n    if (!authority) {\n      Log.error(\"SigninRequest.ctor: No authority passed\");\n      throw new Error(\"authority\");\n    }\n\n    let oidc = SigninRequest.isOidc(response_type);\n    let code = SigninRequest.isCode(response_type);\n\n    if (!response_mode) {\n      response_mode = SigninRequest.isCode(response_type) ? \"query\" : null;\n    }\n\n    this.state = new SigninState({\n      nonce: oidc,\n      data,\n      client_id,\n      authority,\n      redirect_uri,\n      code_verifier: code,\n      request_type,\n      response_mode,\n      client_secret,\n      scope,\n      extraTokenParams,\n      skipUserInfo\n    });\n    url = UrlUtility.addQueryParam(url, \"client_id\", client_id);\n    url = UrlUtility.addQueryParam(url, \"redirect_uri\", redirect_uri);\n    url = UrlUtility.addQueryParam(url, \"response_type\", response_type);\n    url = UrlUtility.addQueryParam(url, \"scope\", scope);\n    url = UrlUtility.addQueryParam(url, \"state\", this.state.id);\n\n    if (oidc) {\n      url = UrlUtility.addQueryParam(url, \"nonce\", this.state.nonce);\n    }\n\n    if (code) {\n      url = UrlUtility.addQueryParam(url, \"code_challenge\", this.state.code_challenge);\n      url = UrlUtility.addQueryParam(url, \"code_challenge_method\", \"S256\");\n    }\n\n    var optional = {\n      prompt,\n      display,\n      max_age,\n      ui_locales,\n      id_token_hint,\n      login_hint,\n      acr_values,\n      resource,\n      request,\n      request_uri,\n      response_mode\n    };\n\n    for (let key in optional) {\n      if (optional[key]) {\n        url = UrlUtility.addQueryParam(url, key, optional[key]);\n      }\n    }\n\n    for (let key in extraQueryParams) {\n      url = UrlUtility.addQueryParam(url, key, extraQueryParams[key]);\n    }\n\n    this.url = url;\n  }\n\n  static isOidc(response_type) {\n    var result = response_type.split(/\\s+/g).filter(function (item) {\n      return item === \"id_token\";\n    });\n    return !!result[0];\n  }\n\n  static isOAuth(response_type) {\n    var result = response_type.split(/\\s+/g).filter(function (item) {\n      return item === \"token\";\n    });\n    return !!result[0];\n  }\n\n  static isCode(response_type) {\n    var result = response_type.split(/\\s+/g).filter(function (item) {\n      return item === \"code\";\n    });\n    return !!result[0];\n  }\n\n}","map":{"version":3,"names":["Log","UrlUtility","SigninState","SigninRequest","constructor","url","client_id","redirect_uri","response_type","scope","authority","data","prompt","display","max_age","ui_locales","id_token_hint","login_hint","acr_values","resource","response_mode","request","request_uri","extraQueryParams","request_type","client_secret","extraTokenParams","skipUserInfo","error","Error","oidc","isOidc","code","isCode","state","nonce","code_verifier","addQueryParam","id","code_challenge","optional","key","result","split","filter","item","isOAuth"],"sources":["C:/Users/theoj/Desktop/WebbProject-Yr3-React18/ClientApp/node_modules/oidc-client/src/SigninRequest.js"],"sourcesContent":["// Copyright (c) Brock Allen & Dominick Baier. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See LICENSE in the project root for license information.\r\n\r\nimport { Log } from './Log.js';\r\nimport { UrlUtility } from './UrlUtility.js';\r\nimport { SigninState } from './SigninState.js';\r\n\r\nexport class SigninRequest {\r\n    constructor({\r\n        // mandatory\r\n        url, client_id, redirect_uri, response_type, scope, authority,\r\n        // optional\r\n        data, prompt, display, max_age, ui_locales, id_token_hint, login_hint, acr_values, resource, response_mode,\r\n        request, request_uri, extraQueryParams, request_type, client_secret, extraTokenParams, skipUserInfo\r\n    }) {\r\n        if (!url) {\r\n            Log.error(\"SigninRequest.ctor: No url passed\");\r\n            throw new Error(\"url\");\r\n        }\r\n        if (!client_id) {\r\n            Log.error(\"SigninRequest.ctor: No client_id passed\");\r\n            throw new Error(\"client_id\");\r\n        }\r\n        if (!redirect_uri) {\r\n            Log.error(\"SigninRequest.ctor: No redirect_uri passed\");\r\n            throw new Error(\"redirect_uri\");\r\n        }\r\n        if (!response_type) {\r\n            Log.error(\"SigninRequest.ctor: No response_type passed\");\r\n            throw new Error(\"response_type\");\r\n        }\r\n        if (!scope) {\r\n            Log.error(\"SigninRequest.ctor: No scope passed\");\r\n            throw new Error(\"scope\");\r\n        }\r\n        if (!authority) {\r\n            Log.error(\"SigninRequest.ctor: No authority passed\");\r\n            throw new Error(\"authority\");\r\n        }\r\n\r\n        let oidc = SigninRequest.isOidc(response_type);\r\n        let code = SigninRequest.isCode(response_type);\r\n\r\n        if (!response_mode) {\r\n            response_mode = SigninRequest.isCode(response_type) ? \"query\" : null;\r\n        }\r\n\r\n        this.state = new SigninState({ nonce: oidc, \r\n            data, client_id, authority, redirect_uri, \r\n            code_verifier: code, \r\n            request_type, response_mode,\r\n            client_secret, scope, extraTokenParams, skipUserInfo });\r\n\r\n        url = UrlUtility.addQueryParam(url, \"client_id\", client_id);\r\n        url = UrlUtility.addQueryParam(url, \"redirect_uri\", redirect_uri);\r\n        url = UrlUtility.addQueryParam(url, \"response_type\", response_type);\r\n        url = UrlUtility.addQueryParam(url, \"scope\", scope);\r\n\r\n        url = UrlUtility.addQueryParam(url, \"state\", this.state.id);\r\n        if (oidc) {\r\n            url = UrlUtility.addQueryParam(url, \"nonce\", this.state.nonce);\r\n        }\r\n        if (code) {\r\n            url = UrlUtility.addQueryParam(url, \"code_challenge\", this.state.code_challenge);\r\n            url = UrlUtility.addQueryParam(url, \"code_challenge_method\", \"S256\");\r\n        }\r\n\r\n        var optional = { prompt, display, max_age, ui_locales, id_token_hint, login_hint, acr_values, resource, request, request_uri, response_mode };\r\n        for(let key in optional){\r\n            if (optional[key]) {\r\n                url = UrlUtility.addQueryParam(url, key, optional[key]);\r\n            }\r\n        }\r\n\r\n        for(let key in extraQueryParams){\r\n            url = UrlUtility.addQueryParam(url, key, extraQueryParams[key])\r\n        }\r\n\r\n        this.url = url;\r\n    }\r\n\r\n    static isOidc(response_type) {\r\n        var result = response_type.split(/\\s+/g).filter(function(item) {\r\n            return item === \"id_token\";\r\n        });\r\n        return !!(result[0]);\r\n    }\r\n\r\n    static isOAuth(response_type) {\r\n        var result = response_type.split(/\\s+/g).filter(function(item) {\r\n            return item === \"token\";\r\n        });\r\n        return !!(result[0]);\r\n    }\r\n    \r\n    static isCode(response_type) {\r\n        var result = response_type.split(/\\s+/g).filter(function(item) {\r\n            return item === \"code\";\r\n        });\r\n        return !!(result[0]);\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}